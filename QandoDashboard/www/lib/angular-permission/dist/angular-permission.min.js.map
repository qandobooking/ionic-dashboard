{"version":3,"sources":["angular-permission.js"],"names":["permission","angular","module","config","$stateProvider","decorator","state","parentFn","self","getState","run","$rootScope","$state","$q","$location","Authorization","PermissionMap","$on","event","toState","toParams","fromState","fromParams","options","areSetStatePermissions","isDefined","data","permissions","setStateAuthorizationStatus","status","extend","$$isAuthorizationFinished","isAuthorizationFinished","areStateEventsDefaultPrevented","isStateChangePermissionStartDefaultPrevented","isStateChangeStartDefaultPrevented","compensatePermissionMap","statePermissionMap","permissionMap","redirectTo","toStatePath","get","name","path","slice","reverse","forEach","extendPermissionMap","authorizeForState","authorize","then","$broadcast","replace","go","notify","rejectedPermission","resolveRedirectState","redirect","params","defaultPrevented","preventDefault","compensatedPermissionMap","factory","this","only","resolvePermissionMapProperty","except","resolveFunctionRedirect","redirectFunction","when","call","redirectState","isString","isObject","TypeError","resolveObjectRedirect","redirectObject","ReferenceError","isFunction","resolve","property","isArray","prototype","concat","rejectedPermissionName","reject","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","defer","promise","validatePermission","validationResult","PermissionStore","Role","roleName","permissionNames","defineManyPermissions","length","validateRole","promises","map","hasPermissionDefinition","getPermissionDefinition","all","service","definePermission","permissionStore","removePermissionDefinition","getStore","clearStore","defineRole","roleStore","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","directive","$log","PermissionStrategies","restrict","scope","bindToController","onAuthorized","onUnauthorized","deprecatedOnly","deprecatedExcept","controllerAs","controller","$scope","$element","onAuthorizedAccess","showElement","onUnauthorizedAccess","hideElement","warn","$watchGroup","e","error","message","RoleStore","permissionsMap","handleAuthorization","deferred","exceptPromises","findMatchingPermissions","rejectedPermissions","onlyPromises","resolvedPermissions","counter","results","key","value","hasOwnProperty","reason","role","constant","enableElement","removeAttr","disableElement","attr","removeClass","addClass"],"mappings":"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","file":"angular-permission.min.js"}